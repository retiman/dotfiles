#!/usr/bin/env ruby
require 'fileutils'

include FileUtils

Dir['src/main/{java,scala,resources,webapp}'].each do |f|
  ln_s f, File.basename(f) rescue nil
end

Dir['src/test/{java,scala,resources}'].each do |f|
  ln_s f, "test-#{File.basename(f)}" rescue nil
end

if File.exists? '.git/info/exclude'
  File.open('.git/info/exclude', File::WRONLY|File::APPEND) do |f|
    %w(
      /java
      /scala
      /resources
      /webapp
      /test-java
      /test-scala
      /test-resources
    ).each { |w| f.puts w }
  end
end
